{% extends 'base.html' %}

{% block title %}
    Dashboard
{% endblock %}


{% block content %}
    <div class="container-fluid my-5">
    <table class="table table-striped table-hover">
        <h2>Dashboard</h2>
        <thead>
          <tr class="table-success">
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">City</th>
            <th scope="col">State</th>
            <th scope="col">Address</th>
            <th scope="col">Contact Number</th>
            <th scope="col">Maritial Status</th>
            <th scope="col">Wing</th>
            <th scope="col">Flat</th>
            <th scope="col">Issue</th>
            <th scope="col">PCD</th>
            <th scope="col">PRD</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
            {% for item in member_issues %}
                <tr>
                    <th scope="row">{{forloop.counter}}</th>
                    <td>{{item.member.name}}</td>
                    <td>{{item.member.city}}</td>
                    <td>{{item.member.state}}</td>
                    <td>{{item.member.address}}</td>
                    <td>{{item.member.contact_num}}</td>
                    <td>{{item.member.marritial_status}}</td>
                    <td>{{item.wing.wing_name}}</td>
                    <td>{{item.flat.flat_num}}</td> 
                    <td>{{item.heading}}</td>
                    <td>{{item.pcd}}</td>
                    <td>{{item.prd}}</td>
                    {% if item.status == 'Raised' %}
                      <td class="text-danger fw-bold">{{item.status}}</td>
                    {% elif item.status == 'Pending' %}
                      <td class="text-warning fw-bold">{{item.status}}</td>
                    {% else %}
                      <td class="text-success fw-bold">{{item.status}}</td>
                    {% endif %}
                </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
{% endblock %}